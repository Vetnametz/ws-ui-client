<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="connect-src * 'unsafe-inline';">
    <script src="https://cdn.socket.io/socket.io-3.0.1.min.js"></script>
    <script src="https://unpkg.com/ejs@3.1.3/ejs.min.js"></script>

    <script src="../js/ioClient.js"></script>

    <script id="horizontalTemplate" type="text/template">
        <div class="screen-vertical-v1">
            <header>
                <div class="name-block">MTRaman123</div>
                <div class="time-block">10:32 AM</div>
            </header>
            <div class="state-block cooling-state">

                <div class="interlock-state">
                    <p class="label">Interlock</p>
                    <p class="value">OK</p>
                </div>
                <div class="temp-state">
                    <p class="label">Temperature</p>
                    <p class="value">28.2 °C</p>
                </div>

                <div class="process-state">
                    <div class="name">
                    Cooling
                    </div>
                    <div class="icon">
                    <i class="flaticon-thermometer"></i>
                    </div>
                </div>

                <div class="exp-detail">
                    <div class="exp">
                    <p class="label">Experiment</p>
                    <div class="value">-</div>
                    </div>
                    <div class="time-remaining">
                    <p class="label">Time remaining</p>
                    <div class="value">-</div>
                    </div>
                </div>
            </div>
            <footer>
                <div class="net-block">
                    <div class="ip-address">192.168.255.255</div>
                    <div class="fw">FW: 2.0.27</div>
                </div>
                <ul class="icons-list">
                    <li>
                    <i class="flaticon-ethernet"></i>
                    </li>
                    <li>
                    <i class="flaticon-wifi"></i>
                    </li>
                    <li>
                    <i class="flaticon-usb"></i>
                    </li>
                </ul>
            </footer>
        </div>
    </script>

    <script id="verticalTemplate" type="text/template">
        <div class="screen-vertical-v1">
            <header>
                <div class="name-block"><%= friendlyName %> </div>
                <div class="time-block"><%= expTimeRemaining %> </div>
            </header>
            <div class="state-block cooling-state">

                <div class="interlock-state">
                    <p class="label">Interlock</p>
                    <p class="value">OK</p>
                </div>
                <div class="temp-state">
                    <p class="label">Temperature</p>
                    <p class="value"><%= sensorTemperature %> °C</p>
                </div>

                <div class="process-state">
                    <div class="name">
                    <%= state %> 
                    </div>
                    <div class="icon">
                    <i class="flaticon-thermometer"></i>
                    </div>
                </div>

                <div class="exp-detail">
                    <div class="exp">
                    <p class="label">Experiment</p>
                    <div class="value">-</div>
                    </div>
                    <div class="time-remaining">
                    <p class="label">Time remaining</p>
                    <div class="value">-</div>
                    </div>
                </div>
            </div>
            <footer>
                <div class="net-block">
                    <div class="ip-address">192.168.255.255</div>
                    <div class="fw">FW: 2.0.27</div>
                </div>
                <ul class="icons-list">
                    <li>
                    <i class="flaticon-ethernet"></i>
                    </li>
                    <li>
                    <i class="flaticon-wifi"></i>
                    </li>
                    <li>
                    <i class="flaticon-usb"></i>
                    </li>
                </ul>
            </footer>
        </div>
    </script>

    <style>
        table {
            border: 2px solid black;
        }

        input {
            width: 300px;
        }

        select {
            width: 300px;
        }

        textarea {
            width: 513px;
            border: 2px solid black;
        }

        #btnConnect {
            width: 100px;
        }

        #btnDisconnect {
            width: 100px;
        }

        #btnSend {
            width: 100px;
        }
    </style>
</head>

<body>
    <h1>WebSocket Client</h1>
    <!-- WebSocket Connection Parameters Table -->
    <table>
        <tr>
            <td width="200px">WS Protocol</td>
            <td>
                <select id="protocol">
                    <option value="ws" selected="selected">ws</option>
                    <option value="wss">wss</option>
                </select>
            </td>
        </tr>
        <tr>
            <td>WS Hostname</td>
            <td><input type="text" id="hostname" /></td>
        </tr>
        <tr>
            <td>WS Port</td>
            <td><input type="text" id="port" /></td>
        </tr>
        <tr>
            <td>WS Endpoint</td>
            <td><input type="text" id="endpoint" /></td>
        </tr>
        <tr>
            <td></td>
            <td>
                <input id="btnConnect" type="button" value="Connect" onclick="onConnectClick()">&nbsp;&nbsp;
                <input id="btnDisconnect" type="button" value="Disconnect" onclick="onDisconnectClick()"
                    disabled="disabled">
            </td>
        </tr>
    </table><br />

    <div id="output"></div>
</body>

</html>
